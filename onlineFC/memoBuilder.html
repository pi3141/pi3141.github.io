<!doctype html>
<html>
	<head>
		<meta charset="utf-8"/>
		<title>MÃ©mo builder</title>
        <link rel="stylesheet" href="https://unpkg.com/mvp.css"> 
		<style>
			#data{min-height:50vh;}
            #horiz{display:flex;}
            #chapNr{width:2ch;}
		</style>
	</head>
	<body>
        <div id="horiz">
        <input type="text" id="chapNr" placeholder="chap. nr"></input><input id='chapTitle' type="text" placeholder="titre du chapitre"></input>
    </div>
            <textarea id="data" placeholder="sÃ©parer les questions des rÃ©ponses par un ';' et changer de ligne Ã  chaque question."></textarea>
            <button onclick="valider()">Valider</button>
	    <div id="horiz">
            <div id="lien"></div><button disabled id='copy' onclick="copy()" title="copier le lien dans le presse-papier">ðŸ“‹</button>
            </div>
        <script>
            function valider(){
                var param=document.getElementById('data').value.replace(/(?:\r|\n|\r\n)/g, '|');
		if ((param.length+document.getElementById('chapNr').value.length+document.getElementById('chapTitle').value.length) > 1991){alert("Limite de 2000 caractÃ¨res dÃ©passÃ©e, le lien ne fonctionnera peut Ãªtre pas dans tous les navigateursâ€¦");}
        document.getElementById('lien').innerHTML="<a href=\"https://pi3141.github.io/onlineFC/memo.html?n="+document.getElementById('chapNr').value+"&t="+document.getElementById('chapTitle').value+"&q="+param+"\">https://pi3141.github.io/onlineFC/memo.html?n="+document.getElementById('chapNr').value+"&t="+document.getElementById('chapTitle').value+"&q="+param+"</a>";
		document.getElementById('copy').disabled = false;
            }
	    function copy(){
		navigator.clipboard.writeText(param);
		document.getElementById('lien').textContent="copiÃ©";
	    }
        </script>
	</body>
</html>
